@model IEnumerable<Almacen.Models.Producto>
@{
    ViewData["Title"] = "Lista de productos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Gestión de productos</h1>
<div class="container">
    @if (TempData["mensaje"] != null) {
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        @TempData["mensaje"]
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div> 
    }
    <div class="row">
        <div class="col-sm-6">
            <h3>Lista de productos</h3>
        </div>
        <div class="col-sm-6">
            <a class="btn btn-success d-block" asp-action="Create" asp-controller="Productos">Agregar un nuevo producto</a>
        </div>
    </div>

    <div class="row">
       @if (Model.Count()>0) 
       {
           <table class="table table-bordered table-striped">
               <thead>
                   <tr>
                       <td>@Html.DisplayNameFor(m => m.IdProducto)</td>
                       <td>@Html.DisplayNameFor(m => m.Nombre)</td>
                       <td>@Html.DisplayNameFor(m => m.Existencia)</td>
                       <td>@Html.DisplayNameFor(m => m.descripcion)</td>
                       <td>@Html.DisplayNameFor(m => m.Precio)</td>
                       <td>Opciones...</td>
                   </tr>
               </thead>
               <tbody>
                   @foreach (var item in Model)
                   {
                       <tr>
                           <td>@item.IdProducto</td>
                           <td>@item.Nombre</td>
                           <td>@item.Existencia</td>
                           <td>@item.descripcion</td>
                           <td>@item.Precio</td>
                           <td>
                               <a asp-controller="Productos" asp-action="Edit" asp-route-id="@item.IdProducto" class="btn btn-warning">Editar</a>
                               <a asp-controller="Productos" asp-action="Delete" asp-route-id="@item.IdProducto" class="btn btn-danger">Eliminar</a>
                           </td>
                       </tr>
                   }
               </tbody>
           </table>
       }
       else
            {
           <p>Aún no existe ningún registro</p>
            }
    </div>
</div>
